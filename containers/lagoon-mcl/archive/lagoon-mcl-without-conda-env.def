Bootstrap: docker
From: ubuntu:20.04 

%post
	apt -y update
	apt -y install build-essential 
	apt -y install zlib1g-dev libncurses5-dev libgdbm-dev libnss3-dev libssl-dev libreadline-dev libffi-dev
	apt -y install wget
	
	ln -sf /usr/share/zoneinfo/Europe/Paris /etc/localtime
	
	# R installation
	apt install -y --no-install-recommends software-properties-common dirmngr
	wget -qO- https://cloud.r-project.org/bin/linux/ubuntu/marutter_pubkey.asc | tee -a /etc/apt/trusted.gpg.d/cran_ubuntu_key.asc
	add-apt-repository "deb https://cloud.r-project.org/bin/linux/ubuntu $(lsb_release -cs)-cran40/"
	apt install -y --no-install-recommends r-base

	Rscript -e 'install.packages("dplyr")'
	Rscript -e 'install.packages("ggplot2")'
	Rscript -e 'install.packages("magrittr")'
	Rscript -e 'install.packages("scales")'
	Rscript -e 'install.packages("tidyr")
	
	# Python installation
	cd /opt
	wget https://www.python.org/ftp/python/3.11.10/Python-3.11.10.tgz
	tar -xf Python-3.11.10.tgz
	rm -f Python-3.11.10.tgz
	cd Python-3.11.10
	./configure --enable-optimizations
	make install

%labels
	Maintener Jérémy Rousseau, MNHN - Paris
	Version 1.1.0
	
	
	

